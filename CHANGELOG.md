Added thread safety to the processor optimizations, so it works better with C2ME. (PR'ed by ishland)

Fixed crash when a mod's structure piece has all of their jigsaws with a selection priorities greater than 1.